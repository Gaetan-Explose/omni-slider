!function(){"use strict";function t(t,i){if(t&&("DIV"===t.nodeName||"DIV"===t.tagName)){this.isIE8=!1,this.options={isOneWay:null,isDate:null,overlap:null,min:null,max:null,start:null,end:null};var s=!1;i.isOneWay&&(i.isOneWay=!1,i.overlap=!0,i.start&&!i.end&&(i.end=i.start),i.start=null,s=!0),this.init(i),this.topics={start:[],moving:[],stop:[]},this.UI={slider:null,handleLeft:null,handleRight:null,fill:null};var e=document.createElement("div");e.className=s?"slider one-way":"slider",this.UI.slider=e;var n=document.createElement("div");n.className="handle handle-left";var o=document.createElement("div");o.className="slider-circle",n.appendChild(o),this.UI.handleLeft=n,this.UI.slider.appendChild(this.UI.handleLeft);var l=document.createElement("div");l.className="handle handle-right";var h=document.createElement("div");h.className="slider-circle",l.appendChild(h),this.UI.handleRight=l,this.UI.slider.appendChild(this.UI.handleRight);var a=document.createElement("div");a.className="slider-fill",this.UI.fill=a,this.UI.slider.appendChild(this.UI.fill),t.appendChild(this.UI.slider),this.UI.handleLeft.style.marginLeft="-"+n.offsetWidth/2+"px",this.UI.handleRight.style.marginRight="-"+l.offsetWidth/2+"px";var r={left:this.options.start,right:this.options.end};this.move.bind(this)(r,!0),this.startingHandler=this.starting.bind(this),this.UI.handleLeft.onmousedown=this.startingHandler,this.UI.handleLeft.ontouchstart=this.startingHandler,this.UI.handleRight.onmousedown=this.startingHandler,this.UI.handleRight.ontouchstart=this.startingHandler}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};t.prototype.defaultOptions={isOneWay:!1,isDate:!1,overlap:!1,min:0,max:100},t.prototype.extend=function(t,i){var s,e={};for(s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);return e},t.prototype.init=function(t){this.options="object"===("undefined"==typeof t?"undefined":i(t))?this.extend(this.defaultOptions,t):this.defaultOptions,this.isIE8=/MSIE/.test(navigator.userAgent),this.options.start=this.options.start||this.options.min,this.options.end=this.options.end||this.options.max,this.options.isDate?(this.options.max=new Date(this.options.max).valueOf(),this.options.min=new Date(this.options.min).valueOf(),this.options.max<this.options.min&&(this.options.min=this.options.max),"undefined"!=typeof this.options.start&&"undefined"!=typeof this.options.end&&this.options.start<=this.options.end&&new Date(this.options.start).valueOf()>=this.options.min&&new Date(this.options.end).valueOf()<=this.options.max?(this.options.start=new Date(this.options.start).valueOf(),this.options.end=new Date(this.options.end).valueOf()):(this.options.start=new Date(this.options.min).valueOf(),this.options.end=new Date(this.options.max).valueOf())):(this.options.max=parseFloat(this.options.max),this.options.min=parseFloat(this.options.min),this.options.max<this.options.min&&(this.options.min=this.options.max),"undefined"!=typeof this.options.start&&"undefined"!=typeof this.options.end&&this.options.start<=this.options.end&&this.options.start>=this.options.min&&this.options.end<=this.options.max?(this.options.start=parseFloat(this.options.start),this.options.end=parseFloat(this.options.end)):(this.options.start=this.options.min,this.options.end=this.options.max))},t.prototype.getInfo=function(){var t={},i=this.options.max-this.options.min,s=this.UI.fill.style.left?parseFloat(this.UI.fill.style.left.replace("%","")):0,e=this.UI.fill.style.right?parseFloat(this.UI.fill.style.right.replace("%","")):0;return t=this.options.isDate?{left:new Date(this.options.min+s/100*i),right:new Date(this.options.max-e/100*i)}:{left:this.options.min+s/100*i,right:this.options.max-e/100*i}},t.prototype.starting=function(t){if(!this.isDisabled){var i=0,s=0;if(this.dragObj={},this.isIE8)for(this.dragObj.elNode=window.event.srcElement;this.dragObj.elNode.getAttribute("class").indexOf("handle")<0;)this.dragObj.elNode=this.dragObj.elNode.parentNode;else for(this.dragObj.elNode=t.target;!this.dragObj.elNode.classList.contains("handle");)this.dragObj.elNode=this.dragObj.elNode.parentNode;this.dragObj.dir=this.isIE8?this.dragObj.elNode.getAttribute("class").indexOf("handle-left")>=0?"left":"right":this.dragObj.elNode.classList.contains("handle-left")?"left":"right",this.isIE8?(i=window.event.clientX+document.documentElement.scrollLeft+document.body.scrollLeft,s=window.event.clientY+document.documentElement.scrollTop+document.body.scrollTop):(i=("undefined"!=typeof t.clientX?t.clientX:t.touches[0].pageX)+(window.scrollX||window.pageXOffset),s=("undefined"!=typeof t.clientY?t.clientY:t.touches[0].pageY)+(window.scrollY||window.pageYOffset)),this.dragObj.cursorStartX=i,this.dragObj.cursorStartY=s,this.dragObj.elStartLeft=parseFloat(this.dragObj.elNode.style.left),this.dragObj.elStartRight=parseFloat(this.dragObj.elNode.style.right),isNaN(this.dragObj.elStartLeft)&&(this.dragObj.elStartLeft=0),isNaN(this.dragObj.elStartRight)&&(this.dragObj.elStartRight=0),this.isIE8?(this.UI.handleLeft.setAttribute("class",this.UI.handleLeft.getAttribute("class").replace("ontop","").replace(/^\s+|\s+$/g,"")),this.UI.handleRight.setAttribute("class",this.UI.handleRight.getAttribute("class").replace("ontop","").replace(/^\s+|\s+$/g,"")),this.dragObj.elNode.setAttribute("class",this.dragObj.elNode.getAttribute("class")+" ontop")):(this.UI.handleLeft.classList.remove("ontop"),this.UI.handleRight.classList.remove("ontop"),this.dragObj.elNode.classList.add("ontop")),this.movingHandler=this.moving.bind(this),this.stopHandler=this.stop.bind(this),this.isIE8?(document.attachEvent("onmousemove",this.movingHandler),document.attachEvent("onmouseup",this.stopHandler)):(document.addEventListener("mousemove",this.movingHandler,!0),document.addEventListener("mouseup",this.stopHandler,!0),document.addEventListener("touchmove",this.movingHandler,!0),document.addEventListener("touchend",this.stopHandler,!0)),this.stopDefault.bind(this)(t),this.isIE8?(this.UI.fill.setAttribute("class",this.UI.fill.getAttribute("class").replace("slider-transition","").replace(/^\s+|\s+$/g,"")),this.UI.handleLeft.setAttribute("class",this.UI.handleLeft.getAttribute("class").replace("slider-transition","").replace(/^\s+|\s+$/g,"")),this.UI.handleRight.setAttribute("class",this.UI.handleRight.getAttribute("class").replace("slider-transition","").replace(/^\s+|\s+$/g,""))):(this.UI.fill.classList.remove("slider-transition"),this.UI.handleLeft.classList.remove("slider-transition"),this.UI.handleRight.classList.remove("slider-transition")),this.publish("start",this.getInfo())}},t.prototype.moving=function(t){var i=0,s=0;this.isIE8?(i=window.event.clientX+document.documentElement.scrollLeft+document.body.scrollLeft,s=window.event.clientY+document.documentElement.scrollTop+document.body.scrollTop):(i=("undefined"!=typeof t.clientX?t.clientX:t.touches[0].pageX)+(window.scrollX||window.pageXOffset),s=("undefined"!=typeof t.clientY?t.clientY:t.touches[0].pageY)+(window.scrollY||window.pageYOffset));var e=this.UI.slider.offsetWidth,n=0;"left"===this.dragObj.dir?n=this.dragObj.elStartLeft+(i-this.dragObj.cursorStartX)/e*100:"right"===this.dragObj.dir&&(n=this.dragObj.elStartRight+(this.dragObj.cursorStartX-i)/e*100),0>n?n=0:n>100&&(n=100),n=Math.abs(n);var o=0;this.options.overlap||(o=this.UI.handleRight.offsetWidth/this.UI.slider.offsetWidth*100);var l=0;"left"===this.dragObj.dir?(l=100-o-this.UI.fill.style.right.replace("%",""),n>=l&&(n=l),this.dragObj.elNode.style.left=n+"%",this.UI.fill.style.left=n+"%"):(l=100-o-this.UI.fill.style.left.replace("%",""),n>=l&&(n=l),this.dragObj.elNode.style.right=n+"%",this.UI.fill.style.right=n+"%"),this.stopDefault.bind(this)(t),this.publish("moving",this.getInfo())},t.prototype.stop=function(t){this.isIE8?(document.detachEvent("onmousemove",this.movingHandler),document.detachEvent("onmouseup",this.stopHandler)):(document.removeEventListener("mousemove",this.movingHandler,!0),document.removeEventListener("mouseup",this.stopHandler,!0),document.removeEventListener("touchmove",this.movingHandler,!0),document.removeEventListener("touchend",this.stopHandler,!0)),this.stopDefault.bind(this)(t),this.publish("stop",this.getInfo())},t.prototype.move=function(t,s){this.isIE8?this.UI.fill.setAttribute("class",this.UI.fill.getAttribute("class")+" slider-transition"):(this.UI.fill.classList.add("slider-transition"),this.UI.handleLeft.classList.add("slider-transition"),this.UI.handleRight.classList.add("slider-transition"));var e=this.options.max-this.options.min;if("object"===("undefined"==typeof t?"undefined":i(t))){if(t.left){t.left<this.options.min&&(t.left=this.options.min),t.left>this.options.max&&(t.left=this.options.max);var n=(t.left-this.options.min)/e*100;this.UI.handleLeft.style.left=n+"%",this.UI.fill.style.left=n+"%"}if(t.right){t.right<this.options.min&&(t.right=this.options.min),t.right>this.options.max&&(t.right=this.options.max);var o=(this.options.max-t.right)/e*100;this.UI.handleRight.style.right=o+"%",this.UI.fill.style.right=o+"%"}!this.options.overlap&&this.UI.handleLeft.offsetLeft+this.UI.handleLeft.offsetWidth>this.UI.handleRight.offsetLeft-1&&(this.UI.fill.style.left="0%",this.UI.fill.style.right="0%",this.UI.handleLeft.style.left="0%",this.UI.handleRight.style.right="0%")}else if(!isNaN(t)){t<this.options.min&&(t=this.options.min),t>this.options.max&&(t=this.options.max);var l=(t-this.options.min)/e*100;this.UI.handleLeft.style.left=l+"%",this.UI.fill.style.left="0%",this.UI.fill.style.right=100-l+"%"}s||this.publish("moving",this.getInfo())},t.prototype.stopDefault=function(t){this.isIE8?(window.event.cancelBubble=!0,window.event.returnValue=!1):t.preventDefault()},t.prototype.disable=function(t){this.isDisabled=t,this.isDisabled?this.isIE8?this.UI.slider.setAttribute("class",this.UI.slider.getAttribute("class")+" slider-disabled"):this.UI.slider.classList.add("slider-disabled"):this.isIE8?this.UI.slider.setAttribute("class",this.UI.slider.getAttribute("class").replace("slider-disabled","").replace(/^\s+|\s+$/g,"")):this.UI.slider.classList.remove("slider-disabled")},t.prototype.subscribe=function(t,i){if(this.topics.hasOwnProperty.call(this.topics,t)&&"string"==typeof t&&"function"==typeof i){var s=this.topics[t].push(i)-1;return{remove:function(){delete this.topics[t][s]}.bind(this)}}},t.prototype.publish=function(t,i){this.topics.hasOwnProperty.call(this.topics,t)&&"string"==typeof t&&this.topics[t].forEach(function(t){t(i)})},"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=t:window.Slider=t}();